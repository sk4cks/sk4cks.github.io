---
layout: single
title: "π‘ OAuth 2.0 μ©μ–΄ μ΄ν•΄"
categories:
  - springBoot
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "sidebar-category"
---

# OAuth 2.0 Roles

- <span style="color:blueviolet; font-weight: bold;">OAuth 2.0 λ©”μ»¤λ‹μ¦μ€ λ‹¤μ λ„¤ κ°€μ§€ μΆ…λ¥μ μ—­ν• μ„ λ‹΄λ‹Ήν•λ” μ£Όμ²΄λ“¤μ— μν•΄ μ΄λ£¨μ–΄μ§€λ” κ¶ν•λ¶€μ—¬ μ²΄κ³„μ΄λ‹¤</span>

1. **Resource Owner** (μμ› μ†μ μ)
   - λ³΄νΈλ μμ›μ— λ€ν• μ ‘κ·Ό κ¶ν•μ„ λ¶€μ—¬ν•  μ μλ” μ£Όμ²΄, μ‚¬μ©μλ΅μ„ κ³„μ •μ μΌλ¶€μ— λ€ν• μ ‘κ·Ό κ¶ν•μ„ λ¶€μ—¬ν•λ” μ‚¬λ
   - μ‚¬μ©μλ¥Ό λ€μ‹ ν•μ—¬ μ‘λ™ν•λ ¤λ” λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ” λ¨Όμ € μ‚¬μ©μμ ν—κ°€λ¥Ό λ°›μ•„μ•Ό ν•λ‹¤
2. **Resource Server** (λ³΄νΈμμ›μ„λ²„)
   - νƒ€μ‚¬ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ ‘κ·Όν•λ” μ‚¬μ©μμ μμ›μ΄ ν¬ν•¨λ μ„λ²„λ¥Ό μλ―Έν•λ‹¤
   - μ•΅μ„Έμ¤ ν† ν°μ„ μλ½ λ° κ²€μ¦ν•  μ μμ–΄μ•Ό ν•λ©° κ¶ν• μ²΄κ³„μ— λ”°λΌ μ”μ²­μ„ μΉμΈν•  μ μμ–΄μ•Ό ν•λ‹¤.
3. **Authorization Server** (μΈκ°€μ„λ²„)
   - ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ©μ κ³„μ •μ— λ€ν• λ™μ λ° μ ‘κ·Όμ„ μ”μ²­ν•  λ• μƒνΈ μ‘μ©ν•λ” μ„λ²„λ΅μ„ ν΄λΌμ΄μ–ΈνΈμ κ¶ν• λ¶€μ—¬ μ”μ²­μ„ μΉμΈν•κ±°λ‚ κ±°λ¶€ν•λ” μ„λ²„
   - μ‚¬μ©μκ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² κ¶ν• λ¶€μ—¬ μ”μ²­μ„ μΉμΈν• ν›„ access token μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ¶€μ—¬ν•λ” μ—­ν• 
4. **Client** (ν΄λΌμ΄μ–ΈνΈ)
   - μ‚¬μ©μλ¥Ό λ€μ‹ ν•μ—¬ κ¶ν•μ„ λ¶€μ—¬λ°›μ•„ μ‚¬μ©μμ λ¦¬μ†μ¤μ— μ ‘κ·Όν•λ ¤λ” μ–΄ν”λ¦¬μΌ€μ΄μ…
   - μ‚¬μ©μλ¥Ό κ¶ν• λ¶€μ—¬ μ„λ²„λ΅ μ•λ‚΄ν•κ±°λ‚ μ‚¬μ©μμ μƒνΈ μ‘μ© μ—†μ΄ κ¶ν• λ¶€μ—¬ μ„λ²„λ΅λ¶€ν„° μ§μ ‘ κ¶ν•μ„ μ–»μ„ μ μλ‹¤

![image](https://github.com/user-attachments/assets/182a8b7f-d7bd-4d9d-87d2-9a44fd92215e)

# OAuth 2.0 Client Types

- **κ°μ”**
  - <U>RFC 6749</U> - <https://datatracker.ietf.org/doc/html/rfc6749#section-2.1>
  - μΈμ¦ μ„λ²„μ— ν΄λΌμ΄μ–ΈνΈλ¥Ό λ“±λ΅ν•  λ• ν΄λΌμ΄μ–ΈνΈ μκ²© μ¦λ…μΈ ν΄λΌμ΄μ–ΈνΈ μ•„μ΄λ””μ™€ ν΄λΌμ΄μ–ΈνΈ μ•”νΈλ¥Ό λ°›λ”λ‹¤.
  - ν΄λΌμ΄μ–ΈνΈ μ•”νΈλ” λΉ„λ°€μ΄κ³  κ·Έλ€λ΅ μ μ§€λμ–΄μ•Ό ν•λ” λ°λ©΄ ν΄λΌμ΄μ–ΈνΈ μ•„μ΄λ””λ” κ³µκ°μ΄λ‹¤.
  - μ΄ μκ²© μ¦λ…μ€ μΈμ¦ μ„λ²„μ— λ€ν• ν΄λΌμ΄μ–ΈνΈ IDλ¥Ό μ¦λ…ν•λ‹¤
- **κΈ°λ°€ ν΄λΌμ΄μ–ΈνΈ** (Confidential Clients)
  - κΈ°λ°€ ν΄λΌμ΄μ–ΈνΈλ” client_secret μ κΈ°λ°€μ„±μ„ μ μ§€ν•  μ μλ” ν΄λΌμ΄μ–ΈνΈλ¥Ό μλ―Έν•λ‹¤.
  - μΌλ°μ μΌλ΅ μ‚¬μ©μκ°€ μ†μ¤ μ½”λ“μ— μ•΅μ„Έμ¤ν•  μ μ—†λ” μ„λ²„μ—μ„ μ‹¤ν–‰λλ” μ‘μ© ν”„λ΅κ·Έλ¨μΌλ΅ NET, Java, PHP λ° Node.JSμ™€ κ°™μ€ μ„λ²„ μΈ΅ μ–Έμ–΄λ΅ μ‘μ„±λλ‹¤
  - μ΄λ¬ν• μ ν•μ μ• ν”λ¦¬μΌ€μ΄μ…μ€ λ€λ¶€λ¶„ μ›Ή μ„λ²„μ—μ„ μ‹¤ν–‰λκΈ° λ•λ¬Έμ— μΌλ°μ μΌλ΅ οΌ‚μ›Ή μ•±οΌ‚μ΄λΌκ³  ν•λ‹¤
- **κ³µκ° ν΄λΌμ΄μ–ΈνΈ** (Public Clients)
  - κ³µκ° ν΄λΌμ΄μ–ΈνΈλ” client_secret μ κΈ°λ°€μ„ μ μ§€ν•  μ μ—†μΌλ―€λ΅ μ΄λ¬ν• μ•±μ—λ” secret μ΄ μ‚¬μ©λμ§€ μ•λ”λ‹¤.
  - λΈλΌμ°μ €(SPA)μ—μ„ μ‹¤ν–‰λλ” JavaScript μ• ν”λ¦¬μΌ€μ΄μ…, Android λλ” iOS λ¨λ°”μΌ μ•±, λ°μ¤ν¬ν†±μ—μ„ μ‹¤ν–‰λλ” κΈ°λ³Έ μ•±λΏλ§ μ•„λ‹λΌ IoT/μ„λ² λ””λ“ μ¥μΉμ—μ„ μ‹¤ν–‰λλ” μ• ν”λ¦¬μΌ€μ΄μ… λ“±μ΄ μλ‹¤
  - Chrome κ°λ°μ μ½μ†”μ΄λ‚ λ””μ¤μ–΄μ…λΈ”λ¬μ™€ κ°™μ€ λ””λ²„κΉ… λ„κµ¬λ¥Ό μ‚¬μ©ν•μ—¬ λ°”μ΄λ„λ¦¬/μ‹¤ν–‰ μ½”λ“μ—μ„ κΈ°λ°€ μ •λ³΄λ¥Ό μ¶”μ¶ν•  μ μκΈ° λ•λ¬Έμ— κ³µκ°λ΅ κ°„μ£Όλλ‹¤
  - μ„λ²„μΈ΅μ΄ μ•„λ‹ λ¦¬μ†μ¤ μ†μ μκ°€ μ‚¬μ©ν•λ” μ¥μΉμ—μ„ μ‹¤ν–‰λλ” λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ” κ³µκ° ν΄λΌμ΄μ–ΈνΈλ΅ κ°„μ£Όλμ–΄μ•Ό ν•λ‹¤

![image](https://github.com/user-attachments/assets/c4b559d7-0b78-4899-a074-7ed0a50142d3)

# OAuth 2.0 Token Types

1. **Access Token**
   - ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‚¬μ©μμ <span style="color:violet; font-weight: bold;">λ³΄νΈλ λ¦¬μ†μ¤μ— μ ‘κ·Όν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” μΌμΆ…μ μκ²© μ¦λ…</span>μΌλ΅μ„ μ—­ν• μ„ ν•λ©° λ¦¬μ†μ¤ μ†μ μκ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ¶€μ—¬ν• κ¶ν• λ¶€μ—¬μ ν‘ν„μ΄λ‹¤
   - μΌλ°μ μΌλ΅ JWT(JSON Web Tokens) ν•μ‹μ„ μ·¨ν•μ§€λ§ μ‚¬μ–‘μ— λ”°λΌ κ·Έλ΄ ν•„μ”λ” μ—†λ‹¤.
   - ν† ν°μ—λ” ν•΄λ‹Ή μ•΅μ„Έμ¤ κΈ°κ°„, λ²”μ„ λ° μ„λ²„μ— ν•„μ”ν• κΈ°νƒ€ μ •λ³΄κ°€ μλ‹¤.
   - νƒ€μ…μ—λ” μ‹λ³„μ νƒ€μ… (Identifier Type) κ³Ό μμ²΄ ν¬ν•¨νƒ€μ… (Self-contained Type) μ΄ μλ‹¤
2. **Refresh Token**
   - <span style="color:violet; font-weight: bold;">μ•΅μ„Έμ¤ ν† ν°μ΄ λ§λ£λ ν›„ μƒ μ•΅μ„Έμ¤ ν† ν°μ„ μ–»κΈ° μ„ν•΄ ν΄λΌμ΄μ–ΈνΈ μ‘μ© ν”„λ΅κ·Έλ¨μ—μ„ μ‚¬μ©ν•λ” μκ²© μ¦λ…</span>
   - μ•΅μ„Έμ¤ ν† ν°μ΄ λ§λ£λλ” κ²½μ° ν΄λΌμ΄μ–ΈνΈλ” κ¶ν• λ¶€μ—¬ μ„λ²„λ΅ μΈμ¦ν•κ³  Refresh Token μ„ μ „λ‹¬ν•λ‹¤.
   - μΈμ¦ μ„λ²„λ” Refresh Token μ μ ν¨μ„±μ„ κ²€μ‚¬ν•κ³  μƒ μ•΅μ„Έμ¤ ν† ν°μ„ λ°κΈ‰ν•λ‹¤.
   - Refresh Token μ€ μ•΅μ„Έμ¤ ν† ν°κ³Ό λ‹¬λ¦¬ κ¶ν• μ„λ²„ ν† ν° μ—”λ“ν¬μΈνΈμ—λ§ λ³΄λ‚΄μ§€κ³  λ¦¬μ†μ¤ μ„λ²„μ—λ” λ³΄λ‚΄μ§€ μ•λ”λ‹¤.
3. **ID Token**
   - OpenID Connect μ±•ν„°μ—μ„ ν•™μµν•¨
4. **Authorization Code**
   - <span style="color:violet; font-weight: bold;">κ¶ν• λ¶€μ—¬ μ½”λ“ νλ¦„μ—μ„ μ‚¬μ©</span>λλ©° μ΄ μ½”λ“λ” <span style="color:violet; font-weight: bold;">ν΄λΌμ΄μ–ΈνΈκ°€ μ•΅μ„Έμ¤ ν† ν°κ³Ό κµν™ν•  μ„μ‹ μ½”λ“</span>μ„.
   - μ‚¬μ©μκ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•λ” μ •λ³΄λ¥Ό ν™•μΈν•κ³  μΈκ°€ μ„λ²„λ΅λ¶€ν„° λ¦¬λ‹¤μ΄λ ‰νΈ λμ–΄ λ°›μ•„μ¨λ‹¤.

## Access Token μ ν•

- <span style="color:red; font-weight: bold;">μ‹λ³„μ νƒ€μ… (Identifier Type)</span>
  ![image](https://github.com/user-attachments/assets/472d583e-d0dd-47a1-b678-f2677bad2b98)
- <span style="color:red; font-weight: bold;">μμ²΄ ν¬ν•¨ νƒ€μ… (Self-contained Type)</span>
  ![image](https://github.com/user-attachments/assets/efa02922-1659-461a-80a5-3ccdf78fe7ac)
